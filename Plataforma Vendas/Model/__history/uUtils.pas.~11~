unit uUtils;

interface

uses
  System.SysUtils, Vcl.StdCtrls;

procedure p_LimitaEditNumeros(edit: TObject; var Key: Char);
procedure p_LimitaId(edit: TObject; var Key: Char);

implementation

procedure p_LimitaId(edit: TObject; var Key: Char);
begin
  if not CharInSet(Key, ['0' .. '9', #8]) then
  begin
    Key := #0;
  end;
end;

procedure p_LimitaEditNumeros(edit: TObject; var Key: Char);
begin
  if not CharInSet(Key, ['0' .. '9', #8, '.']) then
  begin
    Key := #0;
  end;

  if CharInSet(Key, ['.']) then
  begin
    if (pos('.', TEdit(edit).Text) > 0) then
    begin
      Key := #0;
    end;
  end;
end;

procedure p_LimitaEditMoeda(edit: TObject; var Key: Char);
begin
  if not CharInSet(Key, ['0' .. '9', #8, '.']) then
  begin
    Key := #0;
    Exit;
  end;

  if CharInSet(Key, ['.']) then
  begin
    if (pos('.', TEdit(edit).Text) > 0) then
    begin
      Key := #0;
    end else
    if (pos('.', TEdit(edit).Text) > (Length(TEdit(edit).Text) - 2)) then
      Key := #0;
  end;

end;

end.
